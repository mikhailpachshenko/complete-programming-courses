## Переменная

### Определение

Программа, которая всегда считает результат вычисления одного и того же выражения, довольно скучная и бессмысленная. Полезная программа должна оперировать с различными данными без внесения изменений в код.

Для хранения информации в программировании используются **переменные**. **Переменную** можно рассматривать как **ящик**. Однажды сделав такой ящик, мы можем класть в него разные вещи.

Под каждый тип информации – нужен ящик соответствующего типа: вы ведь не будете складывать деньги, спички, бензин и шоколад в один и тот же ящик. Таким образом, у каждой переменной есть **тип данных**, который надо указать при ее создании. Также у переменной есть **имя**, по которому мы будем к ней обращаться.



> [!IMPORTANT]
>
> **Переменная** – это поименованная область памяти определенного **типа данных**, имеющая **имя**.



### Работа с переменной

Для **объявления** переменной нужно воспользоваться следующей схемой: 

```go
var название_переменной тип_данных
```

Тип данных, отвечающий за хранение целых чисел называется `int`. Следовательно, чтобы объявить переменную, которая будет хранить **целые числа**, нужно написать:

```go
var a int
```

Это мы **объявили переменную** с названием `a` и указали, что там будут хранится **целые числа**. Теперь в созданную переменную можем записывать только **целые** **числа.**

Чтобы записать в переменную целое число, нужно воспользоваться следующим правилом:

**куда = что**

где

- **куда**: в какую переменную записать данные
- `**=**`: **оператор присвоения**
- **что**: какие данные записать

Воспользуемся данным правилом. Например, запишем в ранее созданную переменную `a` число 77:

```go
a = 7 
```

Операции производятся **справа налево** – взять число 77 и записать в переменную `a`.

Эти два шага можно объединить, то есть можно сразу объявить переменную и записать в нее значение (**инициализировать)**, иначе говоря – присвоить начальное значение:

```go
var a int = 7
```

Мы объявили переменную `a` и сразу записали значение 77. Обычно так делают, если хотят сделать код более читаемым, т.к здесь мы сразу видим тип и начальное значение переменной. Но на практике обычно пользуются другой записью:

```go
a := 7
```

или

```go
var a = 7
```

Здесь происходит автоматическое объявление и инициализация переменной. Тип переменной выводится автоматически, исходя из литерала находящегося в правой части от `:= или =`. В данном случае компилятор интерпретирует **7** как **int**

 

Чтобы узнать **содержимое переменной**, нужно обратиться к ней по **имени**. Например:

```go
var b int = a * 5
```

или

```go
b := a * 5
```

В переменную `b` запишется значение 35, так как вместо переменной `a` подставится ее **значение**, то есть 7. Напомню, что сначала выполняется выражение справа от равно (`a * 5`), а потом результат вычисления записывается в новую переменную `b`. 

Также мы можем поменять значение уже существующей переменной `a`:

```go
a = a + 8
```

Так как действия выполняются **справа налево от знака `=`**, следовательно, мы берем значение переменной `а`**,** которое равно 7, к нему добавляем 8 и снова записываем в переменную `а`. Таким образом, значение переменной увеличили на 8.

 

> [!IMPORTANT]
>
> Переменную создают **один** раз, указав тип данных, название и начальное значение. При изменении значения переменной, нужно указать только название. Тип данных указывать больше не нужно. 

 

Для лучшего понимания разберем пример с ошибкой:

```cs
package main

import "fmt"

func main(){
   var a int = 6 // создали переменную a
   var b int = a * 8 // 48
   var a int = b - 8 // ошибка. Переменная a уже существует.
   var c int = b + a
   fmt.Println(c)
}
```

 

А вот исправленная программа:

```go
package main

import "fmt"

func main(){
   var a int = 6
   var b int = a * 8 // 48
   a = b - 8 // 40. Заметьте, что тип данных мы не написали
   var c int = b + a // 88
   fmt.Println(c) // вывод 88
}
```

 

### **Типы данных**

Итак, мы уже посмотрели и поработали с целочисленным типом данных `int`. Но существуют еще и другие типы данных. Давайте рассмотрим основные часто используемые типы данных:

- **int8** представляет целое число от -128 до 127 и занимает в памяти 1 байт (8 бит);
- **int16** представляет целое число от -32768 до 32767 и занимает в памяти 2 байта (16 бит);
- **int32** представляет целое число от -2147483648 до 2147483647 и занимает 4 байта (32 бита);
- **int64** представляет целое число от –9 223 372 036 854 775 808 до 9 223 372 036 854 775 807 и занимает 8 байт (64 бита);
- **uint8** представляет целое число от 0 до 255 и занимает 1 байт;
- **uint16** представляет целое число от 0 до 65535 и занимает 2 байта;
- **uint32** представляет целое число от 0 до 4294967295 и занимает 4 байта;
- **uint64** представляет целое число от 0 до 18 446 744 073 709 551 615 и занимает 8 байт;
- **byte** синоним типа uint8, представляет целое число от 0 до 255 и занимает 1 байт;
- **rune** синоним типа int32, представляет целое число от -2147483648 до 2147483647 и занимает 4 байта. Используется для представления кода Unicode символа;
- **int** представляет целое число со знаком, которое в зависимости о платформы может занимать либо 4 байта, либо 8 байт. То есть соответствовать либо int32, либо int64;
- **uint** представляет целое число только без знака, которое, аналогично типу int, в зависимости о платформы может занимать либо 4 байта, либо 8 байт. То есть соответствовать либо uint32, либо uint64;
- **string** – строка;
- **float32** представляет число с плавающей точкой от 1.4*10-45 до 3.4*1038(для положительных). Занимает в памяти 4 байта (32 бита);
- **float64** представляет число с плавающей точкой от 4.9*10-324 до 1.8*10308 (для положительных) и занимает 8 байт;
- **bool** – специальный тип, принимает только два значения: `true` или `false`**.**

------

Рассмотрим пример:

- Создадим переменную строкового типа `name` и запишем в нее строку "**Олег**". Напомню, что строку нужно обрамлять двойными кавычками: 

```go
name := "Олег"
```

- Создадим еще одну переменную целочисленного типа `age` и запишем в нее значение 25

```go
name := "Олег"
age := 25
```

- Создадим еще одну переменную вещественного типа `weight` и запишем в нее значение 80.5:

```go
name := "Олег"
age := 25
weight := 80.5
```

Стоит отметить, что при инициализации вещественных чисел дробная часть отделяется от целой **точкой**. 

- Теперь мы можем обращаться к переменным по имени и вместо них подставятся их значения:

```go
package main

import "fmt"

func main(){
   name := "Олег"
   age := 25
   weight := 80.5
   fmt.Println("Имя:", name, "возраст:", age, "вес:", weight)
}
```

Форматирование строки будет обсуждено ниже. То есть программа выведет: 

```go
Имя: Олег возраст: 25 вес: 80.5
```

 

> [!IMPORTANT]
>
> `Go` **строго типизированный** язык программирования. От типа данных зависит, какая информация будет храниться в переменной.   

 

Рассмотрим подробнее. В переменную целого типа можно записывать **только** целое число: 

```go
var a int = 10
```

Нельзя записать в нее строку или любой другой тип данных: 

```go
var a int = "10" // ошибка!
```

То же самое, например, с переменной строкового типа. В нее можно записать только строку: 

```go
var s string = "test" // верно
var t string = 10 // ошибка!
```



> [!IMPORTANT]
>
> От **типа** **данных** переменной **зависит поведение операций** над ним.

 

Например, для строк знак плюс (`+`) означает **склеивание** между собой, а для целых и вещественных чисел плюс **складывает** их математически: 

```go
package main

import "fmt"

func main(){
   var a int = 5
   var b int = 10
   fmt.Println(a + b) // 15

   var s1 string = "5"
   var s2 string = "10"
   fmt.Println(s1 + s2) // 510
}
```

 

### **Имя переменной**

1. В имени переменной используйте только латинские буквы `a-z`, `A-Z`и цифры;
2. Имя переменной не может начинаться с цифры;
3. Имя переменной по возможности должно отражать её назначение. Это нужно только нам, программистам, чтобы наш код читался. Программе все равно, какое название будет у переменной. 



> [!IMPORTANT]
>
> `Go`— **регистрочувствительный** язык. Переменная `name` и `Name` — две совершенно разные переменные. Принято название переменных начинать с маленькой буквы. 

 

**Примечания:**

1. Переменные можно объявлять в любом месте программы, не только в самом начале. Хорошей практикой является объявление переменной поближе к месту ее использования

2. Названия переменных должны быть уникальными. Если у двух переменных будут одинаковые имена, то непонятно будет, какое значение вернется при обращении к переменной.

3. Значение перезаписывается. Новое значение переменной вытесняет старое. Важно понимать, чему равно значение переменной в каждый момент времени:

   ```go
   package main
   
   import "fmt"
   
   func main(){
      var a int = 6 // здесь a равен 6
      var b int = a * 8
      a = b - 8 // 40. Здесь уже a равен 40
      var c int = b + a
      fmt.Println(c)
   }
   ```

4. Можно сразу записывать в объявляемую переменную формулу:

   ```go
   a := 22 * 4 + 1 // 89
   b := a - 15 * 3 // 44
   ```

5. Напомню, что мы все написанные программы пишем внутри `main`. 