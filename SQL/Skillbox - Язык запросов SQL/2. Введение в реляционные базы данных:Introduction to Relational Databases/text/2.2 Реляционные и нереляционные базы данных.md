## 2.2 Реляционные и нереляционные базы данных

Современное программное обеспечение работает с теми или иными данными.

#### Пример:

Доставка товара (открываем соответствующее приложение на телефоне). 

Видим каталог товаров доступных для доставки 

- Вопросы:
  - откуда этот каталог берется 
  - где он хранится
- Ответы:
  - Он хранится на сервере
  - В базе данных

Добавляем товары в корзину, оформляем заказ, оплачиваем его и эта информация передаётся к сотрудникам на склад, которые наш заказ собирают и статус сборки заказа и статус доставки и адрес доставки хранятся в БД

------

**База данных -** это средство хранения данных, в котором данные находятся в структурированном и легкодоступном виде.

------

**Реляционные базы данных** (от англ. "relation" — связь) - бд в которой данные связаны между собой.

### Пример: книжный интернет-магазин

#### Книги

| Название       | Год  | Автор           |
| -------------- | ---- | --------------- |
| Левиафан       | 1998 | Борис Акунин    |
| Чёрный город   | 2012 | Борис Акунин    |
| Финансист      | 1912 | Теодор Драйзер  |
| Азазель        | 1998 | Борис Акунин    |
| Собачье сердце | 1925 | Михаил Булгаков |
| Белая Гвардия  | 1925 | Михаил Булгаков |

- Графа авторы может быть важна сама по себе, и для каждого из них на сайте может быть отдельная страница на которой могут быть размещены дополнительные свойства (Например: год рождения, фотография, жанры, биография и т.п.)

#### Пример неправильного использование таблицы: 

| Название       | Год  | Автор           | Год рождения |
| -------------- | ---- | --------------- | ------------ |
| Левиафан       | 1998 | Борис Акунин    | 1956         |
| Чёрный город   | 2012 | Борис Акунин    | 1956         |
| Финансист      | 1912 | Теодор Драйзер  | 1871         |
| Азазель        | 1998 | Борис Акунин    | 1956         |
| Собачье сердце | 1925 | Михаил Булгаков | 1891         |
| Белая Гвардия  | 1925 | Михаил Булгаков | 1891         |

------

### Проблемы

- Дублирование данных
- Сложность изменения данных (изменения в большое количество строк в случае с возрастом)
- Неудобство использования (как правило данные в бд чательно структурированны)

*Данные о книгах в таблице с книгами, данные об авторах в таблице с авторами*

------

### Пример: книжный интернет-магазин

#### Книги

| ID   | Name           | Year | Author_ID |
| ---- | -------------- | ---- | --------- |
| 1    | Левиафан       | 1998 | 1         |
| 2    | Чёрный город   | 2012 | 1         |
| 3    | Финансист      | 1912 | 2         |
| 4    | Азазель        | 1998 | 1         |
| 5    | Собачье сердце | 1925 | 3         |
| 6    | Белая Гвардия  | 1925 | 3         |

------

#### Авторы

| ID   | Full_name       | Year |
| ---- | --------------- | ---- |
| 1    | Борис Акунин    | 1956 |
| 2    | Теодор Драйзер  | 1871 |
| 3    | Михаил Булгаков | 1891 |

------

В реляционных базах данных принято что бы все строки во всех таблицах были пронумерованы. Имена столбцов принято писать на английском и если имя столбца состоит из нескольких слов то принято разделять их при помощи нижнего подчеркивания.

------

### Терминология

Реляционная БД состоит из строк и столбцов:

**Строки** — принято называть ***Записями***

**Столбцы** — принято называть ***Полями***

------

***"Реляционные базы данных"*** равно понятию ***"Базы данных SQL"***

------

### Язык запросов SQL

*Structured Query Language* — язык структурированный запросов.

Язык, позволяющий работать с реляционными базами данных, в том числе добавлять в них данные, получать из них данные, изменять и удалять данные, а также управлять структурой самой базы — структурой таблиц, полей и связей между ними.

------

Реляционные БД

- MySQL
- PosgreSQL
- MS-SQL (microsoftSQL)
- SQLite
- ORACLE

------

### Нереляционные базы данных (NoSQL)

В такого рода хранилищах не используется язык запросов SQL

#### Используется

- Тяжело помести данные в таблицу
- Или набор свойств слишком различный
- Слишком долгий запрос 

------

#### Форматы хранения данных в NoSQL-базах

- Пары ***Ключ — значение*** (как правило используется для хранения хэша, временных данных, для наиболее быстрого доступа)
  - Виды *ключ — значение* NoSQL 
    - redis
    - memcached
    - Amazon DynamoDB
- ***JSON - документы*** (так же документо-ориентированные базы данных)
  - Виды 
    - mongoDB
    - CouchDB
    - elasticseaarch
- Семейства столбцов
- Графы и т.д.

------