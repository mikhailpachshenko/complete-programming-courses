## 5.9 Частые проблемы в Git и их решения

1. Ошибка идентификации
   - Изначально не установили наши конфигурации, на которые будет ругаться ***Git***
2. Открытие редактора **Vim**
3. Коммит в неправильную ветку
4. Не получается сделать команду `git pull`
5. Не получается сделать команду `git push`
   - Проблема с авторизацие
   - Защищённой веткой
   - История изменений сильно отличается

------

**I**

Проверяем состояние директории создаем файл, добавим в индекс и попытаемся закоммитеть

- `git status`
- `touch README.md`
- `git add .`
- `git commit -m 'docs: has been added README.md'`
  - Вернет ошибку: ошибка идентификации автора и предложить выполнить следующие команды
    - `git config --global user.mail.email "example.com"`
    - `git config -- global user.name "Youre name"`

------

**II**

Варианты когда мы коммитем без флага `-m` или забываем поставить закрывающий апостроф  

Находимся в терминале в редакторе Vim

- Переходим на латиницу
- Перед началом написания жмем на `i` появится внизу статус `--INSERT--`
- Далее мы хотим сохранить и выйти вбиваем на латинице `:wq`
  - Основные команды Vim
  - `i` **— переходим в текстовый режим**
  - `Esc` **— переходим в командный режим**
    - В командном режиме
      - `:q` **— выход** 
      - `:q!` **— выход без сохранения**
      - `:wq` **— выход с сохранением**
      - `:help` **— помощь**

------

**III**

1-й вариант 

- `git log --oneline` **просматриваем коммиты и находим предпоследний**
- `git reset` <commitPU>
- Можно так же добавить их в индекс и после в стэш
  - `git add.`
  - `git stash`
- Далее возвращаемся в нужную ветку, достаём из стеша, коммитем и отправляем на удалённый репозиторий 
  - `git checkout` <targetBranch>
  - `git stash pop`
  - `git commit -m 'infoType: some changes'`

*вариант когда еще не отправили на удалённый репозиторий коммит*

2-й вариант

Переходим в основную ветку 

- `git checkout master/main`

Произошли изменения добавили в индекс и закоммители

- `git add .` 
- `git commit -m "someChanges"`

Сделали коммит не в той ветке, переходим в ту

- `git checkout` <targetBranch>

Вливаем в нее основную ветку

- `git merge main`

Обратно переходим в ветку мастер и сбрасываем ее

- `git checkout main`
- `git reset --hard HEAD~1` 

------

**IV**

Удалённый репозиторий впереди на несколько коммитов и изменения в этих кометах конфликтующие так же есть изменения в локальной рабочей директории

Перетягиваем изменения из удалённого репозитория

- `git pull`
  - Выдает два конфликта

Слишком много конфликтов и есть вариант убрать эти конфликты в другую ветку

Проверяем статус после перетягивания 

- `git status`
  - Видео конфликтующие изменения красным

Сбрасываем 

- `git reset --hard`
- `git status`

Видим разницу коммитов и понимаем что локальный коммит лучше занести в отдельную ветку

- `git log --oneline` — запомнили нужный коммит
- `git reset HEAD~1`
- `git stash` — отправляем эти изменения в стэш

А хранящие изменения мы убираем в другую ветку

- `git checkout` <someBranches>
- `git stash pop`

Возвращаемся в основную ветку и затягиваем изменения

- `git checkout main`
- `git pull`

------

##### V

- Проблема с авторизацией решается также как и в пункту с `git pull`

- Пустой репозиторий или защищённая ветка
  - Мы имеем свой локальный пустой реп и хотим перетащить 
  - Предварительно надо будет создать файл на удалённом и перетащить его к себе а уже после добавить изменения и запушить на удалённый реп

- Касаемо большой разницы в коммитах, надо предварительно перетянуть все изменения, решить все несоответствия и после запушить свои изменения 